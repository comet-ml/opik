# Enable parallel test execution
junit.jupiter.execution.parallel.enabled=true

# Strategy: Run tests in the same top-level class in the same thread
# This preserves @TestInstance(PER_CLASS) behavior within a class
junit.jupiter.execution.parallel.mode.default=same_thread

# Strategy: Run top-level test classes in parallel
junit.jupiter.execution.parallel.mode.classes.default=concurrent

# Use dynamic thread pool based on available processors
# Formula: min(cores * 2, 10) to avoid overwhelming the system
junit.jupiter.execution.parallel.config.strategy=dynamic
junit.jupiter.execution.parallel.config.dynamic.factor=2
junit.jupiter.execution.parallel.config.dynamic.max-pool-size-factor=10

# Timeout for tests to prevent hanging in parallel execution
junit.jupiter.execution.timeout.default=10m
junit.jupiter.execution.timeout.mode=disabled_on_debug
