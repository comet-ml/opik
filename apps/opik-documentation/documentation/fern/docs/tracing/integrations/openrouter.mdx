---
description: Start here to integrate Opik with the OpenRouter SDK for robust LLM observability.
headline: OpenRouter SDK | Opik Documentation
og:description: Track calls made via the official OpenRouter SDK with Opik.
og:site_name: Opik Documentation
og:title: Integrate OpenRouter SDK with Opik Easily
title: Observability for OpenRouter SDK with Opik
---

This guide explains how to integrate Opik with the OpenRouter SDK.

If your application uses the official OpenRouter SDK, you can use Opik's dedicated wrappers for typed tracing without relying on the OpenAI-compatible layer.

<Tip>
If you use OpenRouter as an OpenAI-compatible endpoint (without the official OpenRouter SDK),
use [OpenRouter Gateway](/docs/opik/integrations/openrouter-gateway/) for transport-level tracing, then [OpenAI-compatible integration docs](/docs/opik/integrations/openai-typescript/) / [OpenAI Python docs](/docs/opik/integrations/openai/) for wrapper details.
</Tip>

<Tip>
OpenRouter routing metadata in spans is best-effort inferred from request/response model and provider fields where available. There is currently no guaranteed explicit `routing_provider`/`routing_model` field in the OpenRouter SDK integrations, so downstream route labels should be treated as inference rather than absolute ground truth.
</Tip>

Use `track_openrouter` / `trackOpenRouter` when your app uses the official OpenRouter SDK and you want typed, provider-stamped spans.

<Tabs>
<Tab value="Python" title="Python">

:::note
Intent: choose this tab when your application already initializes a native OpenRouter Python client.
:::

```bash
pip install opik
```

### Required fields for OpenRouter payload

- `model` (required) - e.g., `openai/gpt-4`
- `messages` (required) - list of role/content messages

### Optional fields

- `stream`, `temperature`, `max_tokens`, `top_p`, `tools`, `response_format`, `tool_choice`

```python
from opik.integrations.openrouter import track_openrouter

# Replace with your initialized OpenRouter SDK client instance.
openrouter_client = get_openrouter_client(api_key="YOUR_OPENROUTER_API_KEY")
tracked_client = track_openrouter(openrouter_client)

response = tracked_client.chat.send(
    model="openai/gpt-4",
    messages=[{"role": "user", "content": "Hello, world!"}],
)
```

### Minimal valid payload

```python
response = tracked_client.chat.send(
    model="openai/gpt-4",
    messages=[{"role": "user", "content": "Hello, world!"}],
)
```

:::note
When using `track_openrouter`, Opik provider is stamped as `openrouter`.
:::

</Tab>
<Tab value="TypeScript" title="TypeScript">

:::note
Intent: choose this tab when your application already initializes an `@openrouter/sdk` `OpenRouter` client.
:::

```bash
npm install opik-openrouter opik @openrouter/sdk
```

### Required fields for OpenRouter payload

- `model` (required) - e.g., `openai/gpt-4`
- `messages` (required) - list of role/content messages

### Optional fields

- `stream`, `temperature`, `max_tokens`, `top_p`, `tools`, `response_format`, `tool_choice`

```ts
import { OpenRouter } from "@openrouter/sdk";
import { trackOpenRouter } from "opik-openrouter";

const openrouterClient = new OpenRouter({
  apiKey: process.env.OPENROUTER_API_KEY,
});

const trackedOpenRouter = trackOpenRouter(openrouterClient);

const response = await trackedOpenRouter.chat.send({
  model: "openai/gpt-4",
  messages: [{ role: "user", content: "Hello, world!" }],
});
```

### Minimal valid payload

```typescript
const response = await trackedOpenRouter.chat.send({
  model: "openai/gpt-4",
  messages: [{ role: "user", content: "Hello, world!" }],
});
```

</Tab>
</Tabs>

## Canonical references

- Python package usage: https://github.com/comet-ml/opik/blob/main/sdks/python/src/opik/integrations/openrouter/README.md
- TypeScript package usage: https://github.com/comet-ml/opik/blob/main/sdks/typescript/src/opik/integrations/opik-openrouter/README.md
- Track helper definitions in the autogenerated API reference: `track_openrouter` / `trackOpenRouter` (repo package docs linked above)

## Supported OpenRouter SDK methods

OpenRouter SDK integration tracks:

- `chat.send`
- `chat.send_async` (if available)

For complete API details from OpenRouter, see the [OpenRouter API documentation](https://openrouter.ai/docs).
