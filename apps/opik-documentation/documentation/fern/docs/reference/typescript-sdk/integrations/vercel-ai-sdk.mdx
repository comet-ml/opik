# Vercel AI SDK Integration

Opik provides seamless integration with the [Vercel AI SDK](https://sdk.vercel.ai/docs) through OpenTelemetry instrumentation. This integration helps you monitor and debug AI-powered applications built with Vercel's AI tooling.

## Installation

Install the required dependencies:

```bash
npm install opik ai @opentelemetry/sdk-node @opentelemetry/auto-instrumentations-node
```

## Basic Usage

Here's a simple example of integrating Opik with the Vercel AI SDK:

```typescript
import { openai } from "@ai-sdk/openai";
import { getNodeAutoInstrumentations } from "@opentelemetry/auto-instrumentations-node";
import { NodeSDK } from "@opentelemetry/sdk-node";
import { generateText } from "ai";
import { OpikExporter } from "opik/vercel";

// Initialize OpenTelemetry with Opik exporter
const sdk = new NodeSDK({
  traceExporter: new OpikExporter(),
  instrumentations: [getNodeAutoInstrumentations()],
});

sdk.start();

// Use Vercel AI SDK with Opik telemetry
const { text } = await generateText({
  model: openai("gpt-4o-mini"),
  prompt: "What is love? Describe it in 10 words or less.",
  experimental_telemetry: OpikExporter.getSettings({
    name: "ai-sdk-integration",
  }),
});

// Shutdown OpenTelemetry SDK before app exits
await sdk.shutdown();
```

## Features

The Vercel AI SDK integration automatically captures:

- Input prompts and messages
- Model responses
- Token usage statistics
- Tool calls and their results
- Timing information
- Error states

All this telemetry data is automatically sent to your Opik project for analysis and monitoring.

## Advanced Configuration

### Custom Tags and Metadata

You can add custom tags and metadata to all traces generated by the OpikExporter:

```typescript
const exporter = new OpikExporter({
  // Optional: add custom tags to all traces
  tags: ["production", "gpt-4o"],
  // Optional: add custom metadata to all traces
  metadata: {
    environment: "production",
    version: "1.0.0",
    team: "ai-team",
  },
});
```

Tags can be used for filtering and grouping traces, while metadata adds additional context to your traces that can be useful for debugging and analysis.
