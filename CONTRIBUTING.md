# Contributing to Opik

Thanks for contributing to Opik. This file is intentionally lean and policy-focused.
Detailed setup and component workflows live in Fern docs.

Review the CLA before contributing:
- https://github.com/comet-ml/opik/blob/main/CLA.md

## Fast path
1. Open or confirm a tracked issue first (`Fixes #...` or `Resolves #...`).
2. Pick the touched area (`apps/`, `sdks/`, `tests_end_to_end/`) and follow its guide.
3. Create a branch: `{username}/{ticket}-{summary}` where ticket is `OPIK-####`, `issue-####`, or `NA`.
4. Make scoped changes only; avoid unrelated refactors.
5. Run relevant formatter/lint/tests for your area.
6. Open a draft PR with GitHub CLI: `gh pr create --draft`.
7. Fill `.github/pull_request_template.md` completely.

## Canonical contribution guides (Fern)
Use these as the source of operational detail:
- Overview: `apps/opik-documentation/documentation/fern/docs/contributing/overview.mdx`
- Local development: `apps/opik-documentation/documentation/fern/docs/contributing/local-development.mdx`
- Backend: `apps/opik-documentation/documentation/fern/docs/contributing/backend.mdx`
- Frontend: `apps/opik-documentation/documentation/fern/docs/contributing/frontend.mdx`
- Python SDK: `apps/opik-documentation/documentation/fern/docs/contributing/python-sdk.mdx`
- TypeScript SDK: `apps/opik-documentation/documentation/fern/docs/contributing/typescript-sdk.mdx`
- Documentation: `apps/opik-documentation/documentation/fern/docs/contributing/documentation.mdx`
- Optimizer SDK: `apps/opik-documentation/documentation/fern/docs/contributing/agent-optimizer-sdk.mdx`

## Generated files (do not edit manually)
- `apps/opik-backend/src/main/resources/model_prices_and_context_window.json`
- `apps/opik-frontend/src/data/model_prices_and_context_window.json`

These files are regenerated by automation from the upstream `BerriAI/litellm` source and kept in sync by workflow. Update pricing data through the updater workflow or approved automation, not direct edits.

## Commit and PR conventions
- First commit (used as PR title source):
  - `[<TICKET-KEY>] [BE|FE|SDK|DOCS|INFRA|NA] <type>: <summary>`
- Follow-up commits:
  - `<type>(<scope>): <summary>` (`feat`, `fix`, `refactor`, `test`, `docs`, `chore`)
- Include screenshots/videos for user-facing UI changes.
- Keep customer names, internal tickets beyond required references, and sensitive operational context out of public PR text.

## AI-assisted contributions
AI assistance and authorship is allowed. Human authors remain fully accountable for correctness, licensing, and security.

Rules:
- Always run relevant tests/linters for touched code.
- Always be explicit about human/users interaction with produced output.
- Always review prior issue, pull-requests and code-base for existing solutions.
- Always address any system generated reviews (Baz, Greptile).
- Never submit unreviewed AI output.
- Never include secrets, tokens, private prompts, internal system instructions, or customer-sensitive data in generated/public content.
- Never disclose vulnerabilities, exploit steps, or incident details in public issues/PRs. Use private maintainer/security channels.
- You must ensure every PR include an AI disclosure watermark block in the PR description: If AI is used, include a brief `## AI Assistance` note in the PR description with tool/model, scope, and confirmed human verification (if any); if no AI is used, omit that section entirely.

## Agent/editor setup
- Cursor compatibility: `make cursor` (`.cursor -> .agents`)
- Claude sync: `make claude` (syncs `.agents` to `.claude`)
- Git hooks: `make hooks`
