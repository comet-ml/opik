{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Opik Optimizer Benchmark Manifest",
  "type": "object",
  "properties": {
    "seed": { "type": "integer" },
    "test_mode": { "type": "boolean" },
    "tasks": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["dataset", "optimizer", "model"],
        "properties": {
          "dataset": { "type": "string", "description": "Dataset name (e.g., hotpot_train, tiny_test)." },
          "optimizer": { "type": "string", "description": "Optimizer key from benchmark_config.OPTIMIZER_CONFIGS." },
          "model": { "type": "string", "description": "Model identifier (e.g., openai/gpt-4o-mini)." },
          "test_mode": { "type": "boolean", "description": "Override test_mode for this task." },
          "model_parameters": {
            "type": "object",
            "description": "Model parameters forwarded to the optimizer constructor."
          },
          "optimizer_params": {
            "type": "object",
            "description": "Constructor kwargs merged into the optimizer (per-task override)."
          },
          "optimizer_prompt_params": {
            "type": "object",
            "description": "optimize_prompt kwargs (per-task override), e.g., max_trials, n_samples."
          }
        },
        "additionalProperties": false
      }
    }
  },
  "required": ["tasks"],
  "additionalProperties": false
}
